<!DOCTYPE html>
<html lang="sv">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Flyttsmart 3D ğŸšš</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸšš</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBGg0UvRpNG4Of-50_hb7HOYunf4Qgc01g",
            authDomain: "fsgame-59bef.firebaseapp.com",
            databaseURL: "https://fsgame-59bef-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "fsgame-59bef",
            storageBucket: "fsgame-59bef.firebasestorage.app",
            messagingSenderId: "68793090877",
            appId: "1:68793090877:web:ac1b2f330387fa05e43b54"
        };
        firebase.initializeApp(firebaseConfig);
        window.leaderboardDB = firebase.database();
    </script>

    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.162.0/build/three.module.js"
        }
    }
    </script>
</head>

<body>
    <div id="game-container"></div>

    <!-- HUD -->
    <div id="hud" class="hidden">
        <div id="hud-left">
            <div id="score">PoÃ¤ng: 0</div>
            <div id="timer">Tid: 60</div>
            <div id="level">Bana 1 (0/15)</div>
            <div id="combo" class="hidden">ğŸ”¥ x2 COMBO!</div>
        </div>
        <div id="hud-right">
            <span id="vol-down" class="vol-btn">â–</span>
            <span id="vol-up" class="vol-btn">â•</span>
            <span id="mute-btn" class="vol-btn">ğŸ”Š</span>
        </div>
    </div>

    <!-- Start Screen -->
    <div id="start-screen">
        <div class="overlay-content">
            <h1 id="game-title">ğŸšš FLYTTSMART 3D ğŸ </h1>
            <p class="tagline">Flytta mÃ¶blerna â€” Undvik fÃ¥ren!</p>
            <div class="instructions">
                ğŸ¯ BÃ¤r saker frÃ¥n ğŸšš till ğŸ <br>
                â¬†ï¸â¬‡ï¸â¬…ï¸â¡ï¸ Flytta | SPACE Plocka/SlÃ¤pp<br>
                â­ Samla power-ups | ğŸ‘ Undvik fÃ¥ren!
            </div>
            <button id="start-btn">â–¶ STARTA SPELET</button>
            <div class="leaderboard-section">
                <h2>ğŸ† TOPPLISTA</h2>
                <div id="start-leaderboard">Laddar...</div>
            </div>
        </div>
    </div>

    <!-- Game Over Screen -->
    <div id="gameover-screen" class="hidden">
        <div class="overlay-content">
            <h1 class="gameover-title">GAME OVER</h1>
            <p id="gameover-reason"></p>
            <p id="gameover-stats"></p>
            <div id="initials-section">
                <p>Skriv 3 initialer fÃ¶r topplistan:</p>
                <div id="initial-boxes"></div>
                <p class="hint-text">(Backspace = Ã¥ngra)</p>
                <p id="submit-status"></p>
            </div>
            <div class="leaderboard-section">
                <h2>ğŸ† TOPPLISTA ğŸ†</h2>
                <div id="gameover-leaderboard"></div>
            </div>
            <button id="restart-btn">ğŸ”„ SPELA IGEN</button>
        </div>
    </div>

    <!-- Level Transition Screen -->
    <div id="level-screen" class="hidden">
        <div class="overlay-content">
            <h1 id="level-complete-title"></h1>
            <p id="level-bonus"></p>
            <p id="level-subtitle">FÃ¥ren blir stÃ¶rre nu!</p>
            <button id="next-level-btn"></button>
        </div>
    </div>

    <!-- Victory Screen -->
    <div id="victory-screen" class="hidden">
        <div class="overlay-content">
            <h1 class="victory-title">ğŸ‰ DU VANN! ğŸ‰</h1>
            <p id="victory-score"></p>
            <p>Alla 5 banor klarade!</p>
            <button id="victory-restart-btn">ğŸ”„ SPELA IGEN</button>
        </div>
    </div>

    <!-- Event Banner -->
    <div id="event-banner" class="hidden"></div>

    <!-- Power-up Toast -->
    <div id="powerup-toast" class="hidden"></div>

    <!-- Floating Points Container -->
    <div id="floating-points"></div>

    <!-- Mobile Touch Controls -->
    <div id="touch-controls">
        <div id="joystick-area">
            <div id="joystick-base">
                <div id="joystick-knob"></div>
            </div>
        </div>
        <button id="action-btn">âœ‹</button>
    </div>

    <script type="module" src="src/main.js"></script>
</body>

</html>